/* --- Cáº¤U HÃŒNH KHUNG HIá»†U á»¨NG --- */
.vfx-container {
    position: fixed; /* Äá»•i tá»« absolute sang fixed Ä‘á»ƒ luÃ´n cÄƒn theo mÃ n hÃ¬nh */
    top: 50%;        /* ThÃªm top/left Ä‘á»ƒ cÄƒn giá»¯a chuáº©n */
    left: 50%;
    transform: translate(-50%, -50%);
    
    pointer-events: none;
    z-index: 9999;   /* TÄƒng lÃªn cao háº³n Ä‘á»ƒ Ä‘Ã¨ lÃªn má»i thá»© */
    /* ğŸ‘‡ QUAN TRá»ŒNG: XÃ“A DÃ’NG NÃ€Y ÄI */
    /* overflow: hidden; */ 

    /* Hoáº·c Ä‘á»•i thÃ nh visible (máº·c Ä‘á»‹nh) Ä‘á»ƒ nÃ³ hiá»‡n ra */
    overflow: visible;
    display: flex;   /* Äáº£m báº£o ná»™i dung bÃªn trong Ä‘Æ°á»£c cÄƒn chá»‰nh */
    justify-content: center;
    align-items: center;
}

/* --- KEYFRAMES CHáº Y PHIM --- */
@keyframes play-strip {
    from { background-position: 0px; }
    to { background-position: 100%; } 
}

/* --- CLASS HIá»†U á»¨NG Cá»¦A Báº N --- */
.fx-fireball {
    /* 1. KÃ­ch thÆ°á»›c hiá»ƒn thá»‹ trÃªn mÃ n hÃ¬nh (Báº¡n tá»± chá»‰nh cho Ä‘áº¹p) */
    width: 150px; 
    height: 150px; 

    /* 2. ÄÆ°á»ng dáº«n áº£nh (LÆ°u Ã½ dáº¥u .. Ä‘á»ƒ lÃ¹i ra khá»i thÆ° má»¥c css) */
    background-image: url('/assets/vfx/fireball.png');
    background-size: 1000% 100%; 
    /* steps(10) vÃ¬ cÃ³ 10 hÃ¬nh. 0.8s lÃ  tá»‘c Ä‘á»™ ná»• */
    animation: play-strip 1.2s steps(10) forwards; 
}
/* =======================================================
   Ká»¸ NÄ‚NG: METEOR (SPRITE SHEET 9 FRAMES)
   ======================================================= */
/* 2. THIÃŠN THáº CH (METEOR) */
.fx-meteor {
    /* ğŸ‘‡ TÄƒng kÃ­ch thÆ°á»›c lÃªn 300px cho to Ä‘áº¹p */
    width: 300px;
    height: 300px;

    /* CÃ¡c pháº§n cÃ²n láº¡i giá»¯ nguyÃªn */
    background-image: url('/assets/vfx/meteor.png');
    background-size: 900% 100%; 
    background-repeat: no-repeat;
    animation: meteor-sprite 1s steps(9) forwards;

    position: absolute;
    pointer-events: none;
    z-index: 99999;
}

/* --- ANIMATION 1: CHUYá»‚N Äá»˜NG HÃŒNH áº¢NH (SPRITE) --- */
@keyframes meteor-sprite {
    0% { background-position: 0% 0; }   /* Báº¯t Ä‘áº§u á»Ÿ hÃ¬nh 1 (ThiÃªn tháº¡ch nhá») */
    100% { background-position: 100% 0; } /* Káº¿t thÃºc á»Ÿ hÃ¬nh 9 (KhÃ³i) */
}

/* =======================================================
   HIá»†U á»¨NG PHá»¤: Vá»¤ Ná»” (EXPLOSION)
   ======================================================= */
.fx-explode {
    position: fixed;
    z-index: 100000; /* Cao hÆ¡n cáº£ thiÃªn tháº¡ch */
    pointer-events: none;

    /* KÃ­ch thÆ°á»›c vá»¥ ná»• (ThÆ°á»ng to hÆ¡n Ä‘áº¡n má»™t chÃºt) */
    width: 200px;
    height: 200px;

    /* ÄÆ°á»ng dáº«n áº£nh */
    background-image: url('/assets/vfx/explode.png');
    background-repeat: no-repeat;
    
    /* Cáº¤U HÃŒNH SPRITE: 10 áº¢NH NGANG */
    background-size: 1000% 100%;

    /* Animation: Cháº¡y 1 láº§n rá»“i biáº¿n máº¥t */
    animation: explode-run 0.6s steps(10) forwards;
}

@keyframes explode-run {
    0% { background-position: 0% 0; }
    100% { background-position: 100% 0; }
}

/* =======================================================
   Ká»¸ NÄ‚NG: Cá»˜T Lá»¬A (FIX Lá»–I CHáº Y NGANG)
   ======================================================= */
/* 1. Cá»˜T Lá»¬A (FLAME PILLAR) */
.fx-flame-pillar {
    /* KÃ­ch thÆ°á»›c */
    width: 150px;
    height: 300px;
    
    /* áº¢nh Sprite */
    background-image: url('/assets/vfx/flame.png');
    background-repeat: no-repeat;
    background-size: 1000% 100%; /* 10 khung hÃ¬nh */
    
    /* Äiá»ƒm neo: á» Ä‘Ã¡y giá»¯a (Ä‘á»ƒ má»c tá»« Ä‘áº¥t lÃªn) */
    transform-origin: bottom center;
    
    /* Animation: Chá»‰ cháº¡y hÃ¬nh áº£nh + hiá»‡u á»©ng má»c lÃªn */
    animation: 
        flame-sprite 0.8s steps(10) forwards,
        flame-erupt 0.8s ease-out forwards;
        
    /* ğŸ‘‡ QUAN TRá»ŒNG: Äá»•i thÃ nh absolute vÃ  bá» háº¿t margin/top/left */
    position: absolute; 
    pointer-events: none;
    z-index: 100001; 
}

/* Cháº¡y hÃ¬nh áº£nh */
@keyframes flame-sprite {
    0% { background-position: 0% 0; }
    100% { background-position: 100% 0; }
}

/* Hiá»‡u á»©ng má»c tá»« dÆ°á»›i lÃªn */
@keyframes flame-erupt {
    0% { transform: scaleY(0); opacity: 0.6; } /* Má»c tá»« dÆ°á»›i lÃªn */
    15% { transform: scaleY(1.1); opacity: 1; } 
    100% { transform: scaleY(1); opacity: 1; }
}

/* --- PASSIVE: THÃNH QUANG GIÃNG THUáº¬T --- */
.fx-thanh-quang {
    /* KÃ­ch thÆ°á»›c 1 khung hÃ¬nh (áº¢nh gá»‘c 1536 chia 6 = 256) */
    width: 256px;
    height: 256px;

    /* ÄÆ°á»ng dáº«n áº£nh */
    background-image: url('/assets/vfx/thanh_quang.png');
    background-repeat: no-repeat;
    
    /* áº¢nh ngang dÃ i gáº¥p 6 láº§n -> 600% */
    background-size: 600% 100%; 
    
    /* Cháº¡y Animation láº·p vÃ´ táº­n (infinite) */
    animation: anime-thanh-quang 1s steps(6) infinite;

    /* Vá»‹ trÃ­: CÄƒn giá»¯a ngÆ°á»i chÆ¡i */
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); 
    
    pointer-events: none; 
    z-index: 5; /* Náº±m Ä‘Ã¨ lÃªn nhÃ¢n váº­t */
    opacity: 0.9; 
    mix-blend-mode: screen; /* LÃ m hiá»‡u á»©ng sÃ¡ng rá»±c hÆ¡n (náº¿u thÃ­ch) */
}

@keyframes anime-thanh-quang {
    from { background-position: 0 0; }
    to { background-position: 100% 0; }
}
/* =========================================
   VFX: Há»A THáº¦N (FIRE AURA) - FIXED EMBERS
   ========================================= */
.fx-fire-aura {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    width: 416px; 
    height: 416px;
    z-index: 9999; 
    pointer-events: none;
    mix-blend-mode: screen;
    background-image: url('/assets/vfx/hoa_than.png'); 
    background-size: contain; 
    background-position: center; 
    background-repeat: no-repeat;
    animation: fire-flicker 0.4s infinite alternate;
}

/* Lá»šP TÃ€N Lá»¬A RÆ I DÃ€Y (KHÃ”NG XOAY) */
.fx-fire-aura::after {
    content: '';
    position: absolute;
    top: -50px; /* Báº¯t Ä‘áº§u tá»« phÃ­a trÃªn */
    left: 15%;
    width: 6px; 
    height: 6px;
    border-radius: 50%;
    
    /* Danh sÃ¡ch háº¡t lá»­a dÃ y Ä‘áº·c */
    box-shadow: 
        10px 10px #ff5e00, 40px 60px #ff8c00, 90px 20px #ff4500,
        130px 50px #ffae00, 170px 90px #ff5e00, 210px 30px #ff8c00,
        250px 80px #ff4500, 290px 10px #ffae00, 330px 60px #ff5e00,
        20px 140px #ff8c00, 80px 170px #ff4500, 150px 130px #ffae00,
        230px 150px #ff5e00, 50px 190px #ff8c00, 120px 210px #ff4500,
        270px 200px #ffae00, 30px 240px #ff5e00, 190px 250px #ff8c00,
        100px -20px #ff4500, 250px -40px #ffae00;

    opacity: 0;
    /* RÆ¡i lÆ°á»£n sÃ³ng nhÆ°ng KHÃ”NG xoay */
    animation: embers-falling-smooth 3s linear infinite;
}

/* Animation nháº¥p nhÃ¡y (Giá»¯ nguyÃªn) */
@keyframes fire-flicker {
    0% { transform: translate(-50%, -50%) scale(1); filter: brightness(1.1) drop-shadow(0 0 10px #ff4500); }
    100% { transform: translate(-50%, -50%) scale(1.05); filter: brightness(1.4) drop-shadow(0 0 30px #ff8c00) drop-shadow(0 0 15px #ff0000); }
}

/* Hiá»‡u á»©ng rÆ¡i mÆ°á»£t mÃ , láº£ táº£ báº¥t quy táº¯c */
@keyframes embers-falling-smooth {
    0% {
        /* Báº¯t Ä‘áº§u: dá»‹ch chuyá»ƒn ngang ngáº«u nhiÃªn nháº¹ */
        transform: translateY(0) translateX(0);
        opacity: 0;
    }
    15% {
        opacity: 1;
    }
    40% {
        /* LÆ°á»£n sÃ³ng sang pháº£i */
        transform: translateY(150px) translateX(25px);
    }
    70% {
        /* LÆ°á»£n sÃ³ng sang trÃ¡i */
        transform: translateY(300px) translateX(-20px);
        opacity: 0.8;
    }
    100% {
        /* Káº¿t thÃºc: rÆ¡i háº³n xuá»‘ng vÃ  má» dáº§n */
        transform: translateY(450px) translateX(10px);
        opacity: 0;
    }
}
/* =========================================
   VFX: DEAL DEVIL - TÃM XANH MA Má»Š (FIXED)
   ========================================= */
.fx-dealdevil {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    width: 426px; 
    height: 426px;
    z-index: 9999; 
    pointer-events: none;
    mix-blend-mode: hard-light; 

    background-image: url('/assets/vfx/dealdevils.png'); 
    background-size: contain; 
    background-position: center; 
    background-repeat: no-repeat;

    animation: devil-dark-glow 0.5s infinite alternate;
}

/* HIá»†U á»¨NG KHÃ“I TÃM XANH NHáº T */
.fx-dealdevil::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120%; /* LÃ m khÃ³i lan rá»™ng hÆ¡n má»™t chÃºt */
    height: 120%;
    
    /* 1. Äá»”I MÃ€U SANG TÃM XANH NHáº T (Cyan-Purple Mix) */
    background: radial-gradient(circle, rgba(138, 43, 226, 0.4) 0%, rgba(0, 255, 255, 0.2) 50%, transparent 75%);
    
    transform: translate(-50%, -50%);
    filter: blur(45px); /* TÄƒng Ä‘á»™ má» Ä‘á»ƒ khÃ³i trÃ´ng má»m máº¡i hÆ¡n */
    
    /* 2. GIáº¢M Äá»˜ TRONG SUá»T (Nháº¹ nhÃ ng hÆ¡n) */
    opacity: 0.5; 
    
    z-index: -1;
    animation: smoke-ghost 3.5s ease-out infinite;
}

/* Animation hÃ o quang chÃ­nh */
@keyframes devil-dark-glow {
    0% {
        filter: brightness(0.8) contrast(1.1) drop-shadow(0 0 10px rgba(138, 43, 226, 0.5));
        opacity: 0.8;
    }
    100% {
        filter: brightness(1.4) contrast(1.4) 
                drop-shadow(0 0 25px #8a2be2) /* MÃ u tÃ­m xanh nháº¹ */
                drop-shadow(0 0 15px #00ffff); /* Ãnh xanh nháº¡t */
        opacity: 1;
    }
}

/* Hiá»‡u á»©ng khÃ³i bá»‘c lÃªn lá» Ä‘á» */
@keyframes smoke-ghost {
    0% {
        transform: translate(-50%, -30%) scale(0.8);
        opacity: 0;
    }
    30% {
        opacity: 0.5; /* Äáº¡t Ä‘á»‰nh Ä‘á»™ trong suá»‘t nhanh rá»“i tan dáº§n */
    }
    100% {
        transform: translate(-50%, -100%) scale(1.5); /* Bá»‘c cao lÃªn trÃªn */
        opacity: 0;
    }
}
/* =========================================
   VFX: HÃ€O QUANG THIÃŠN Sá»¨ (FINAL FIX)
   ========================================= */
.fx-thiensu {
    position: absolute;
    
    /* 1. CÄ‚N GIá»®A TUYá»†T Äá»I */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    
    /* 2. KÃCH THÆ¯á»šC (Giá»¯ 416px Ä‘á»ƒ bao phá»§ nhÆ° KiÃªn Äá»‹nh hoáº·c 256px tÃ¹y báº¡n, á»Ÿ Ä‘Ã¢y tÃ´i Ä‘á»ƒ 416px cho uy lá»±c) */
    width: 416px; 
    height: 416px;
    
    z-index: 9999; 
    pointer-events: none;
    mix-blend-mode: screen; /* Giá»¯ cháº¿ Ä‘á»™ nÃ y Ä‘á»ƒ cÃ¡c pháº§n Ä‘en cá»§a áº£nh biáº¿n máº¥t, chá»‰ cÃ²n Ã¡nh sÃ¡ng */

    /* 3. Cáº¤U HÃŒNH áº¢NH TÄ¨NH */
    background-image: url('/assets/vfx/thiensu.png'); 
    background-size: contain; 
    background-position: center; 
    background-repeat: no-repeat;

    /* 4. ANIMATION ÃNH SÃNG THáº¦N THÃNH */
    /* Nhá»‹p 0.1s cá»±c nhanh táº¡o cáº£m giÃ¡c hÃ o quang rung Ä‘á»™ng liÃªn tá»¥c */
    animation: thiensu-holy-glow 0.3s infinite alternate;
}

/* Äá»‹nh nghÄ©a hiá»‡u á»©ng hÃ o quang tháº§n thÃ¡nh rá»±c rá»¡ */
@keyframes thiensu-holy-glow {
    0% {
        transform: translate(-50%, -50%) scale(1);
        filter: brightness(1.2) drop-shadow(0 0 10px #fff);
        opacity: 0.8;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.1);
        /* PhÃ³ng to nháº¹ vÃ  tá»a hÃ o quang vÃ ng kim rá»±c rá»¡ */
        filter: brightness(2) 
                drop-shadow(0 0 20px #ffd700) 
                drop-shadow(0 0 40px #fff); 
        opacity: 1;
    }
}
/* =========================================
   VFX: KIÃŠN Äá»ŠNH CHIáº¾N Äáº¤U (Warrior)
   ========================================= */
.fx-kiendinh {
    position: absolute;
    
    /* 1. CÄ‚N GIá»®A TUYá»†T Äá»I */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    
    /* 2. KÃCH THÆ¯á»šC THEO YÃŠU Cáº¦U (416x416) */
    width: 416px; 
    height: 416px;
    
    z-index: 9999; 
    pointer-events: none;

    /* 3. Cáº¤U HÃŒNH áº¢NH TÄ¨NH */
    background-image: url('/assets/vfx/kiendinh.png'); 
    background-size: contain; 
    background-position: center; 
    background-repeat: no-repeat;

    /* 4. ANIMATION ÃNH SÃNG ÄEN Láº¤P LÃNH */
    /* Káº¿t há»£p giáº­t nháº¹ vÃ  hiá»‡u á»©ng Ä‘á»•i mÃ u tá»‘i */
    animation: kiendinh-dark-glitter 0.15s infinite alternate;
}

/* Äá»‹nh nghÄ©a hiá»‡u á»©ng Ã¡nh sÃ¡ng Ä‘en rá»±c rá»¡ */
@keyframes kiendinh-dark-glitter {
    0% {
        transform: translate(-50%, -50%) scale(1);
        filter: brightness(0.8) contrast(1.2) drop-shadow(0 0 5px #000);
        opacity: 0.9;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.05);
        /* Táº¡o quáº§ng sÃ¡ng Ä‘en láº¥p lÃ¡nh báº±ng cÃ¡ch káº¿t há»£p shadow Ä‘en vÃ  tÃ­m Ä‘áº­m/xÃ¡m */
        filter: brightness(1.2) contrast(1.5) 
                drop-shadow(0 0 25px #000) 
                drop-shadow(0 0 10px #2b0040); 
        opacity: 1;
    }
}

/* =========================================
   âš¡ VFX: CHIáº¾N Ã Báº¤T KHUáº¤T (DÃ™NG áº¢NH chieny.png)
   ========================================= */
.fx-chieny {
    position: absolute;
    
    /* 1. CÄ‚N GIá»®A TUYá»†T Äá»I */
    top: 50%;
    left: 50%;
    /* Máº·c Ä‘á»‹nh lÃ¹i láº¡i 50% Ä‘á»ƒ vÃ o giá»¯a tÃ¢m */
    transform: translate(-50%, -50%); 
    
    /* 2. KÃCH THÆ¯á»šC KHUNG HIá»†U á»¨NG */
    /* Báº¡n cÃ³ thá»ƒ tÄƒng/giáº£m sá»‘ nÃ y Ä‘á»ƒ áº£nh to/nhá» vá»«a Ã½ */
    width: 256px; 
    height: 256px;
    
    z-index: 100;  /* Ná»•i lÃªn trÃªn cÃ¹ng */
    pointer-events: none; /* KhÃ´ng cháº·n click */

    /* 3. Cáº¤U HÃŒNH áº¢NH Ná»€N */
    /* ğŸ‘‡ Thay Ä‘á»•i Ä‘Æ°á»ng dáº«n náº¿u báº¡n lÆ°u áº£nh á»Ÿ chá»— khÃ¡c ğŸ‘‡ */
    background-image: url('/assets/vfx/chieny.png'); 
    
    background-size: contain; /* Co giÃ£n áº£nh vá»«a khÃ­t khung, khÃ´ng bá»‹ mÃ©o */
    background-position: center; /* áº¢nh náº±m giá»¯a khung */
    background-repeat: no-repeat; /* KhÃ´ng láº·p láº¡i áº£nh */

    /* 4. ANIMATION (Giáº­t Ä‘Ã¹ng Ä‘Ã¹ng) */
    /* Tá»‘c Ä‘á»™ 0.1s = cá»±c nhanh táº¡o cáº£m giÃ¡c Ä‘iá»‡n giáº­t */
    animation: lightning-flash 0.1s infinite alternate;
}

/* Äá»‹nh nghÄ©a chuyá»ƒn Ä‘á»™ng nháº¥p nhÃ¡y cho áº£nh */
@keyframes lightning-flash {
    0% {
        /* QUAN TRá»ŒNG: LuÃ´n giá»¯ translate(-50%, -50%) Ä‘á»ƒ khÃ´ng bá»‹ lá»‡ch tÃ¢m */
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.8;
        filter: brightness(1); /* Äá»™ sÃ¡ng bÃ¬nh thÆ°á»ng */
    }
    100% {
        /* PhÃ³ng to nháº¹ 10% táº¡o cáº£m giÃ¡c giáº­t */
        transform: translate(-50%, -50%) scale(1.1); 
        opacity: 1;
        /* LÃ m áº£nh sÃ¡ng rá»±c lÃªn vÃ  Ä‘á»• bÃ³ng phÃ¡t sÃ¡ng mÃ u xanh Ä‘iá»‡n */
        filter: brightness(1.8) drop-shadow(0 0 20px #00eaff);
    }
}
    /* =========================================
   âš”ï¸ SKILL: THáº¦N KIáº¾M THáº¨M PHÃN (Active) - ÄÃƒ FIX
   ========================================= */
.fx-thankiem {
    position: absolute;
    
    /* 1. KÃ­ch thÆ°á»›c 1 khung hÃ¬nh */
    width: 200px;
    height: 400px; 

    /* 2. Layer & TÆ°Æ¡ng tÃ¡c */
    z-index: 9999; /* Sá»‘ to háº³n Ä‘á»ƒ khÃ´ng bá»‹ che */
    pointer-events: none;

    /* 3. áº¢nh Sprite Sheet */
    /* ğŸ‘‡ Táº¡m thá»i thÃªm mÃ u ná»n Ä‘á» má» Ä‘á»ƒ náº¿t áº£nh lá»—i thÃ¬ váº«n tháº¥y cÃ¡i khung rÆ¡i xuá»‘ng */

    background-image: url('/assets/vfx/thankiem.png'); 
    background-repeat: no-repeat;
    
    /* âš ï¸ QUAN TRá»ŒNG: Tá»•ng chiá»u cao áº£nh = height (400) * sá»‘ frame (6) = 2400px */
    background-size: 200px 2400px; 

    /* 4. Animation */
    /* LÆ°u Ã½: DÃ¹ng transform Ä‘á»ƒ chá»‰nh vá»‹ trÃ­ rÆ¡i, KHÃ”NG dÃ¹ng top/left Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t JS */
    animation: 
        thankiem-sprite 1s steps(6) forwards, 
        thankiem-drop 1.5s ease-in forwards;
}

/* ğŸ¬ Cháº¡y tá»«ng khung hÃ¬nh (Di chuyá»ƒn áº£nh ná»n) */
@keyframes thankiem-sprite {
    0% { background-position: 0 0; }
    100% { background-position: 0 -2400px; } /* Khá»›p vá»›i background-size */
}

/* âš”ï¸ Hiá»‡u á»©ng rÆ¡i: Tá»« trá»i cao -> Cáº¯m sÃ¢u xuá»‘ng Ä‘áº¥t */
@keyframes thankiem-drop {
    0% {
        opacity: 0;
        /* Xuáº¥t phÃ¡t tá»« tÃ­t trÃªn cao (-1000px) */
        transform: translate(-50%, -1000px) scale(3); 
    }
    20% {
        opacity: 1; /* Hiá»‡n rÃµ ngay khi báº¯t Ä‘áº§u rÆ¡i */
    }
    100% {
        /* ğŸ‘‡ ÄIá»‚M QUAN TRá»ŒNG: Sá»­a sá»‘ Ã¢m thÃ nh sá»‘ DÆ¯Æ NG to Ä‘Ã¹ng */
        /* 400px = RÆ¡i xuyÃªn qua ngÆ°á»i quÃ¡i cáº¯m xuá»‘ng Ä‘áº¥t */
        transform: translate(-50%, 1000px) scale(2); 
        
        /* Náº¿u muá»‘n rÆ¡i tá»¥t háº³n khá»i mÃ n hÃ¬nh luÃ´n thÃ¬ Ä‘á»ƒ 1000px */
        /* transform: translate(-50%, 1000px) scale(3); */
    }
}
/* =========================================
   ğŸŒ©ï¸ SKILL Má»šI: THá»ˆNH THáº¦N THIÃŠN PHáº T
   ========================================= */
.fx-thienphat {
    position: absolute;
    
    /* 1. KÃ­ch thÆ°á»›c hiá»ƒn thá»‹ 1 khung hÃ¬nh */
    /* Tá»•ng rá»™ng 1536 / 5 frame = khoáº£ng 307px. Láº¥y cháºµn 300px cho Ä‘áº¹p */
    width: 300px;  
    height: 256px; /* Chiá»u cao cá»‘ Ä‘á»‹nh theo áº£nh */

    z-index: 9999;
    pointer-events: none;

    /* 2. Cáº¥u hÃ¬nh áº£nh Sprite Sheet Ngang */
    background-image: url('/assets/vfx/thienphat.png');
    background-repeat: no-repeat;
    
    /* áº¢nh náº±m ngang: Set chiá»u rá»™ng 1536px, chiá»u cao 256px */
    background-size: 1536px 256px; 

    /* 3. Animation kÃ©p: Cháº¡y hÃ¬nh + RÆ¡i xuá»‘ng */
    animation: 
        thienphat-sprite 1s steps(5) forwards, /* Cháº¡y 5 hÃ¬nh ngang */
        thienphat-drop 1.2s ease-in forwards;    /* RÆ¡i tá»« trÃªn xuá»‘ng */
}

/* ğŸ¬ Cháº¡y frame theo chiá»u ngang (Horizontal) */
@keyframes thienphat-sprite {
    0% { background-position: 0 0; }
    100% { background-position: -1536px 0; } /* Dá»‹ch sang trÃ¡i háº¿t chiá»u dÃ i áº£nh */
}

/* âš¡ Hiá»‡u á»©ng rÆ¡i sáº¥m sÃ©t (Tháº³ng Ä‘á»©ng tá»« trÃªn xuá»‘ng) */
@keyframes thienphat-drop {
    0% {
        opacity: 0;
        transform: translate(-50%, -800px) scale(2); /* TÃ­t trÃªn cao */
    }
    30% {
        opacity: 1; /* Hiá»‡n rÃµ khi báº¯t Ä‘áº§u lao xuá»‘ng */
    }
    100% {
        /* Cáº¯m xuá»‘ng Ä‘áº¥t (offset 200px Ä‘á»ƒ tÃ¢m áº£nh cháº¡m Ä‘áº¥t) */
        transform: translate(-50%, 400px) scale(2); 
    }
}
/* =========================================
   ğŸŒ‹ SKILL Má»šI: NÃšI Lá»¬A THá»ŠNH Ná»˜
   ========================================= */
/* =========================================
   ğŸŒ‹ SKILL: NÃšI Lá»¬A (FIX TOÃN Há»ŒC & Vá»Š TRÃ)
   ========================================= */
.fx-nuilua {
    position: absolute;
    
    /* 1. KÃ­ch thÆ°á»›c chuáº©n toÃ¡n há»c */
    /* 1500px chia 6 frame = 250px */
    width: 250px; 
    /* Chiá»u cao khá»›p vá»›i áº£nh gá»‘c */
    height: 500px; 

    z-index: 9999;
    pointer-events: none;

    /* 2. Cáº¥u hÃ¬nh áº£nh Sprite Sheet Ngang */
    background-image: url('/assets/vfx/nuilua.png');
    background-repeat: no-repeat;
    
    /* Tá»•ng kÃ­ch thÆ°á»›c áº£nh gá»‘c */
    background-size: 1500px 500px; 

    /* 3. Animation */
    animation: 
        nuilua-sprite 0.5s steps(6) forwards, 
        nuilua-erupt 1.3s ease-out forwards;
}

/* ğŸ¬ Cháº¡y frame NGANG (Horizontal) */
@keyframes nuilua-sprite {
    0% { background-position: 0 0; }
    /* Pháº£i báº±ng Ä‘Ãºng chiá»u rá»™ng background-size (sá»‘ Ã¢m) */
    100% { background-position: -1500px 0; } 
}

/* ğŸŒ‹ Hiá»‡u á»©ng Phun TrÃ o & CÄƒn vá»‹ trÃ­ */
@keyframes nuilua-erupt {
    0% {
        opacity: 0.5;
        /* translate(-50%, -20%): Dá»‹ch xuá»‘ng tháº¥p hÆ¡n so vá»›i tÃ¢m (Ä‘á»ƒ chÃ¢n nÃºi lá»­a cháº¡m Ä‘áº¥t) */
        transform: translate(-50%, -20%) scale(0.5); 
    }
    100% {
        opacity: 1;
        /* Scale to lÃªn 3.0 Ä‘á»ƒ bao trÃ¹m quÃ¡i */
        transform: translate(-50%, -20%) scale(3.0); 
    }
}